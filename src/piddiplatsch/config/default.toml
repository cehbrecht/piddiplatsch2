[plugin]
processor = "cmip6"

[consumer]
topic = "CMIP6"
retry_topic = "CMIP6"
output_dir = "outputs"
max_errors = 10  # -1 = unlimited, any positive int = stop after that many

[kafka]
"bootstrap.servers" = "localhost:39092"
"group.id" = "piddiplatsch-001"
"auto.offset.reset" = "earliest"
"enable.auto.commit" = true

# Best practice for higher availability in librdkafka clients prior to 1.7
"session.timeout.ms" = 45000

[handle]
server_url = "http://localhost:8000"
prefix = "21.TEST"
username = "300:21.TEST/testuser"
password = "testpass"

[stac]
base_url = "https://api.stac.esgf.ceda.ac.uk"
timeout = 10
collection = "cmip6"

[elasticsearch]
base_url = "http://elastic-hippo.cloud.dkrz.de:9200"
index = "handle_21t14995"

[schema]
strict_mode = true

[cmip6]
landing_page_url = "https://handle-esgf.dkrz.de/lp"
max_parts = -1
excluded_asset_keys = ["reference_file", "globus", "thumbnail", "quicklook"]

[lookup]
backend = "stac" # or "es"
enabled = true

[stats]
# Interval in seconds for logging stats (console + DB)
interval_seconds = 10

# Number of messages processed before logging stats
summary_interval = 100

# Enable SQLite reporter for persistent stats
enable_db = true

# Path to SQLite database file (only used if enable_db = true)
db_path = "stats.db"
